key_to_teleport=38;Teleport_Vehicles=false;positions={{{1126.0174560547,-471.74740600586,66.48779296875,0},{1104.4285888672,-3099.1171875,-38.999961853027,0},{69,97,171},"Press ~INPUT_VEH_HORN~ To Teleport"}}local a=GetPlayerPed(-1)Citizen.CreateThread(function()while true do Citizen.Wait(0)local a=GetPlayerPed(-1)local b=GetEntityCoords(a)for c,d in ipairs(positions)do teleport_text=d[4]loc1={x=d[1][1],y=d[1][2],z=d[1][3],heading=d[1][4]}loc2={x=d[2][1],y=d[2][2],z=d[2][3],heading=d[2][4]}Red=d[3][1]Green=d[3][2]Blue=d[3][3]DrawMarker(2,loc1.x,loc1.y,loc1.z,0,0,0,0,0,0,0.5,0.5,0.5,Red,Green,Blue,150,true,true,0,0,0,0,0)DrawMarker(2,loc2.x,loc2.y,loc2.z,0,0,0,0,0,0,0.5,0.5,0.5,Red,Green,Blue,150,true,true,0,0,0,0,0)if CheckPos(b.x,b.y,b.z,loc1.x,loc1.y,loc1.z,2)then alert(teleport_text)if IsControlJustReleased(1,key_to_teleport)then if IsPedInAnyVehicle(a,true)and Teleport_Vehicles==true then SetEntityCoords(GetVehiclePedIsUsing(a),loc2.x,loc2.y,loc2.z)SetEntityHeading(GetVehiclePedIsUsing(a),loc2.heading)else DoScreenFadeOut(500)Wait(500)SetEntityCoords(a,loc2.x,loc2.y,loc2.z)SetEntityHeading(a,loc2.heading)DoScreenFadeIn(500)end end elseif CheckPos(b.x,b.y,b.z,loc2.x,loc2.y,loc2.z,2)then alert(teleport_text)if IsControlJustReleased(1,key_to_teleport)then if IsPedInAnyVehicle(a,true)and Teleport_Vehicles==true then SetEntityCoords(GetVehiclePedIsUsing(a),loc1.x,loc1.y,loc1.z)SetEntityHeading(GetVehiclePedIsUsing(a),loc1.heading)else DoScreenFadeOut(500)Wait(500)SetEntityCoords(a,loc1.x,loc1.y,loc1.z)SetEntityHeading(a,loc1.heading)DoScreenFadeIn(500)end end end end end end)function CheckPos(e,f,g,h,i,j,k)local l=e-h;local m=l^2;local n=f-i;local o=n^2;local p=g-j;local q=p^2;return m+o+q<=k^2 end;function alert(r)SetTextComponentFormat("STRING")AddTextComponentString(r)DisplayHelpTextFromStringLabel(0,0,1,-1)end